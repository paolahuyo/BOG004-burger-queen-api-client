{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = 'http://localhost:8080/'; ///------User api------///\n\nconst createUser = user => {\n  return axios.post(BASE_URL + 'users', user);\n};\n\nconst getId = () => {\n  return getLoggedUser().user.id;\n};\n\nconst login = payload => {\n  return axios.post(BASE_URL + 'login', payload);\n};\n\nconst getUser = () => {\n  return axios({\n    method: \"GET\",\n    url: BASE_URL + 'users',\n    headers: {\n      authorization: \"Bearer \" + getToken()\n    }\n  });\n};\n\nconst updateUser = (id, update) => {\n  return axios.patch(BASE_URL + \"users/\" + id, update, {\n    headers: {\n      \"content-type\": \"application/json\",\n      authorization: \"Bearer \" + getToken()\n    }\n  });\n};\n\nconst deleteUsers = id => {\n  console.log(\"el id\", id);\n  console.log(\"token\", getToken());\n  return axios.delete(BASE_URL + \"users/\" + id, {\n    withCredentials: true,\n    headers: {\n      \"content-type\": \"application/json\",\n      authorization: \"Bearer \" + getToken()\n    }\n  });\n};\n\nconst saveUser = user => {\n  sessionStorage.setItem('user', JSON.stringify(user));\n};\n\nconst getLoggedUser = () => {\n  return JSON.parse(sessionStorage.getItem('user'));\n};\n\nconst getToken = () => {\n  return getLoggedUser().accessToken;\n}; ///------Product api------///\n\n\nconst getProducts = () => {\n  return axios.get(BASE_URL + 'products');\n};\n\nconst createProduct = product => {\n  return axios.post(BASE_URL + 'products', product);\n};\n\nconst saveProduct = product => {\n  sessionStorage.setItem('user', JSON.stringify(product));\n};\n\nexport { login, saveUser, createUser, getLoggedUser, getToken, getProducts, createProduct, saveProduct, getId, getUser, updateUser, deleteUsers };","map":{"version":3,"names":["axios","BASE_URL","createUser","user","post","getId","getLoggedUser","id","login","payload","getUser","method","url","headers","authorization","getToken","updateUser","update","patch","deleteUsers","console","log","delete","withCredentials","saveUser","sessionStorage","setItem","JSON","stringify","parse","getItem","accessToken","getProducts","get","createProduct","product","saveProduct"],"sources":["/Users/paolahuyo/PROYECTOS-LABORATORIA/BOG004-burger-queen-api-client/src/api/api.js"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'http://localhost:8080/';\n\n///------User api------///\nconst createUser = (user) => {\n    return axios.post(BASE_URL+'users', user);\n}\n\nconst getId = () => {\n    return getLoggedUser().user.id;\n}\n\nconst login = (payload) => {\n    return axios.post(BASE_URL+'login', payload);\n}\n\nconst getUser = () => {\n    return axios({method: \"GET\", url:BASE_URL+'users', headers: {\n        authorization: \"Bearer \" + getToken()\n    }} );\n}\n\nconst updateUser = (id, update) =>{\n    return axios.patch(BASE_URL+\"users/\"+id, update,{\n        headers:{\n            \"content-type\": \"application/json\",\n            authorization: \"Bearer \" + getToken()\n        }\n    })\n}\n\nconst deleteUsers = (id) =>{\n    console.log(\"el id\",id)\n    console.log(\"token\", getToken())\n    return axios.delete(BASE_URL+\"users/\"+id, {\n        withCredentials: true,\n        headers:{\n            \"content-type\": \"application/json\",\n            authorization: \"Bearer \" + getToken()\n        }\n    })\n}\n\nconst saveUser = (user) => {\n    sessionStorage.setItem('user', JSON.stringify(user));\n}\n\nconst getLoggedUser = () => {\n    return JSON.parse(sessionStorage.getItem('user'));\n}\n\nconst getToken = () => {\n    return getLoggedUser().accessToken;\n}\n\n///------Product api------///\n\nconst getProducts = () => {\n    return axios.get(BASE_URL+'products');\n}\n\nconst createProduct = (product) => {\n    return axios.post(BASE_URL+'products', product);\n}\n\nconst saveProduct = (product) => {\n    sessionStorage.setItem('user', JSON.stringify(product));\n}\n\nexport {\n    login,\n    saveUser,\n    createUser,\n    getLoggedUser,\n    getToken,\n    getProducts,\n    createProduct,\n    saveProduct,\n    getId,\n    getUser,\n    updateUser,\n    deleteUsers\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,QAAQ,GAAG,wBAAjB,C,CAEA;;AACA,MAAMC,UAAU,GAAIC,IAAD,IAAU;EACzB,OAAOH,KAAK,CAACI,IAAN,CAAWH,QAAQ,GAAC,OAApB,EAA6BE,IAA7B,CAAP;AACH,CAFD;;AAIA,MAAME,KAAK,GAAG,MAAM;EAChB,OAAOC,aAAa,GAAGH,IAAhB,CAAqBI,EAA5B;AACH,CAFD;;AAIA,MAAMC,KAAK,GAAIC,OAAD,IAAa;EACvB,OAAOT,KAAK,CAACI,IAAN,CAAWH,QAAQ,GAAC,OAApB,EAA6BQ,OAA7B,CAAP;AACH,CAFD;;AAIA,MAAMC,OAAO,GAAG,MAAM;EAClB,OAAOV,KAAK,CAAC;IAACW,MAAM,EAAE,KAAT;IAAgBC,GAAG,EAACX,QAAQ,GAAC,OAA7B;IAAsCY,OAAO,EAAE;MACxDC,aAAa,EAAE,YAAYC,QAAQ;IADqB;EAA/C,CAAD,CAAZ;AAGH,CAJD;;AAMA,MAAMC,UAAU,GAAG,CAACT,EAAD,EAAKU,MAAL,KAAe;EAC9B,OAAOjB,KAAK,CAACkB,KAAN,CAAYjB,QAAQ,GAAC,QAAT,GAAkBM,EAA9B,EAAkCU,MAAlC,EAAyC;IAC5CJ,OAAO,EAAC;MACJ,gBAAgB,kBADZ;MAEJC,aAAa,EAAE,YAAYC,QAAQ;IAF/B;EADoC,CAAzC,CAAP;AAMH,CAPD;;AASA,MAAMI,WAAW,GAAIZ,EAAD,IAAO;EACvBa,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBd,EAApB;EACAa,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBN,QAAQ,EAA7B;EACA,OAAOf,KAAK,CAACsB,MAAN,CAAarB,QAAQ,GAAC,QAAT,GAAkBM,EAA/B,EAAmC;IACtCgB,eAAe,EAAE,IADqB;IAEtCV,OAAO,EAAC;MACJ,gBAAgB,kBADZ;MAEJC,aAAa,EAAE,YAAYC,QAAQ;IAF/B;EAF8B,CAAnC,CAAP;AAOH,CAVD;;AAYA,MAAMS,QAAQ,GAAIrB,IAAD,IAAU;EACvBsB,cAAc,CAACC,OAAf,CAAuB,MAAvB,EAA+BC,IAAI,CAACC,SAAL,CAAezB,IAAf,CAA/B;AACH,CAFD;;AAIA,MAAMG,aAAa,GAAG,MAAM;EACxB,OAAOqB,IAAI,CAACE,KAAL,CAAWJ,cAAc,CAACK,OAAf,CAAuB,MAAvB,CAAX,CAAP;AACH,CAFD;;AAIA,MAAMf,QAAQ,GAAG,MAAM;EACnB,OAAOT,aAAa,GAAGyB,WAAvB;AACH,CAFD,C,CAIA;;;AAEA,MAAMC,WAAW,GAAG,MAAM;EACtB,OAAOhC,KAAK,CAACiC,GAAN,CAAUhC,QAAQ,GAAC,UAAnB,CAAP;AACH,CAFD;;AAIA,MAAMiC,aAAa,GAAIC,OAAD,IAAa;EAC/B,OAAOnC,KAAK,CAACI,IAAN,CAAWH,QAAQ,GAAC,UAApB,EAAgCkC,OAAhC,CAAP;AACH,CAFD;;AAIA,MAAMC,WAAW,GAAID,OAAD,IAAa;EAC7BV,cAAc,CAACC,OAAf,CAAuB,MAAvB,EAA+BC,IAAI,CAACC,SAAL,CAAeO,OAAf,CAA/B;AACH,CAFD;;AAIA,SACI3B,KADJ,EAEIgB,QAFJ,EAGItB,UAHJ,EAIII,aAJJ,EAKIS,QALJ,EAMIiB,WANJ,EAOIE,aAPJ,EAQIE,WARJ,EASI/B,KATJ,EAUIK,OAVJ,EAWIM,UAXJ,EAYIG,WAZJ"},"metadata":{},"sourceType":"module"}